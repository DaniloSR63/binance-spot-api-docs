import time
from binance.client import Client

api_key = "SUA_API_KEY_AQUI"
api_secret = "SUA_SECRET_KEY_AQUI"
client = Client(api_key, api_secret, testnet=True)

symbol = "BTCUSDT"
quantidade = 0.010
limite_compra = 60000.0   # exemplo
limite_venda  = 65000.0   # exemplo

while True:
    price = float(client.get_symbol_ticker(symbol=symbol)['price'])
    print("Preço:", price)
    if price <= limite_compra:
        print("Comprando...")
        client.order_market_buy(symbol=symbol, quantity=quantidade)
        # esperar para o preço subir
        while True:
            p = float(client.get_symbol_ticker(symbol=symbol)['price'])
            if p >= limite_venda:
                print("Vendendo...")
                client.order_market_sell(symbol=symbol, quantity=quantidade)
                break
            time.sleep(5)
    time.sleep(5)
